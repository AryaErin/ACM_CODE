2-sat，有交叉的两条边存在矛盾，建边跑强连通，判断是否矛盾
```cpp
#include<cstdio>
#include<cstring>
#include<iostream>
#include<cmath>
#include<set>
#include<map>
#include<vector>
#include<queue>
#include<string>
#include<algorithm>
#include<stack>
using namespace std;
void ____(){ ios_base::sync_with_stdio(false); cin.tie(0); cout.tie(0); }
const int MAXN = 1111;
int n, m, dfn[MAXN], low[MAXN], idx, num, sccid[MAXN], instk[MAXN];
stack<int> stk;
pair<int,int> e[MAXN];
vector<int> G[MAXN];
bool intersect(const pair<int,int> &ea, const pair<int,int> &eb){
    bool ck1 = eb.first > ea.first && eb.first < ea.second;
    bool ck2 = eb.second > ea.first && eb.second < ea.second;
    return ck1^ck2;
}
void tarjan(int u){
    dfn[u] = low[u] = ++idx;
    instk[u] = 1;
    stk.push(u);
    for(int i = 0; i < (int)G[u].size(); i++){
        int v = G[u][i];
        if(!dfn[v]){
            tarjan(v);
            low[u] = min(low[u],low[v]);
        }
        else{
            if(!instk[v]) continue;
            low[u] = min(low[u],dfn[v]);
        }
    }
    if(dfn[u]==low[u]){
        int tp;
        num++;
        do{
            tp = stk.top();
            stk.pop();
            instk[tp] = 0;
            sccid[tp] = num;
        }while(tp!=u);
    }
}
int main(){
    while(scanf("%d %d",&n,&m)!=EOF){
        for(int i = 1; i <= n; i++){
            G[i].clear();
            instk[i] = dfn[i] = low[i] = 0;
        }
        idx = num = 0;
        for(int i = 1; i <= m; i++){
            scanf("%d %d",&e[i].first,&e[i].second);
            if(e[i].first>e[i].second) swap(e[i].first,e[i].second);
        }
        for(int i = 1; i <= m; i++){
            for(int j = i + 1; j <= m; j++){
                if(intersect(e[i],e[j])){
                    G[i].push_back(j+m);
                    G[j].push_back(i+m);
                    G[i+m].push_back(j);
                    G[j+m].push_back(i);
                }
            }
        }
        for(int i = 1; i <= (m << 1); i++) if(!dfn[i]) tarjan(i);
        bool ok = true;
        for(int i = 1; i <= m; i++) if(sccid[i]==sccid[i+m]){
            ok = false;
            break;
        }
        if(ok) puts("panda is telling the truth...");
        else puts("the evil panda is lying again");
    }
    return 0;
}
```
